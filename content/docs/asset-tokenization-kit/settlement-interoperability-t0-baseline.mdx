---
title: "Settlement"
description: "How ATK executes deterministic settlement flows and plugs into external rails without bespoke glue."
---

## Settlement & Interoperability – _T+0 as the Baseline_

**True Atomic DvP:** The Asset Tokenization Kit treats **T+0 settlement as the default**, not an aspirational feature. It includes a **Cross-Value Settlement (XvP)** add-on that orchestrates _delivery-versus-payment_ for any trade in a single workflow. Whether it’s token-for-token or token-for-fiat (on bank rails), the pattern is the same: both sides lock their assets in escrow contracts, a validator checks that all conditions (signatures, KYC, funding) are met, and then both legs are released simultaneously or **not at all**. This guarantees that **no party bears settlement risk** – there’s no window where one side has delivered value without receiving the counter-value. In capital markets, this is huge: by shrinking settlement from days to zero, you **free up capital and eliminate counterparty default risk**. (A major industry report noted that tokenized bonds can settle nearly instantly T+0 vs several days normally, which _“improves capital efficiency and reduces counterparty risk.”_) Unlike many “blockchain” solutions that still rely on end-of-day batch processes or trust intermediaries, our kit’s DvP module **delivers on the promise of instantaneous settlement**. Even when one leg is off-chain (e.g. fiat in a bank account), the system coordinates via **ISO 20022** messages to achieve near-real-time payment confirmation before releasing the on-chain asset. In practice, this means if a buyer wires funds via SEPA or SWIFT, the platform listens for the bank’s confirmation (through an API or message queue) and only then finalizes the token transfer – if the payment fails or times out, the escrowed token leg reverts to the seller. Every step is auditable, and if anything goes wrong the system automatically unwinds and notifies all parties, so **nothing falls to manual exception handling**. The design aligns to models like _“SS3”_ where **both cash and securities settle on a ledger for atomicity** – or where one side is on-ledger and the other is synchronized just-in-time.

**Payment Rail Integrations:** Because not every deal will use on-chain stablecoins, the kit provides a **Payment Rails integration architecture** covering traditional networks (ACH, RTGS, SWIFT, etc.). Token events (like a pending transfer for settlement) are automatically mapped to payment instructions – for example, triggering a ISO20022 PACS.008 message for a wire transfer – and the platform can either generate these messages for bank execution or connect to a bank’s API directly. By aligning token transfers with real-world payment systems, the kit enables “near T+0” settlement even in a hybrid environment. The key is that from the user’s perspective, it’s a single atomic operation: _either the tokens and cash swap successfully, or nothing happens_. This **bridges the gap between on-chain and off-chain value** in a regulated-friendly way (e.g. a central bank deposit token or a commercial bank stablecoin could plug in here as well). The kit’s extensible design means if a new payment network or CBDC comes into play, it can be added as a module without changing the core workflows. The current release focuses on same-network and bank-integrated atomicity rather than cross-chain moves – reflecting real client demand for immediate settlement finality within a given market or currency. _Why it’s different:_ Many platforms talk about instant settlement but achieve it with **workarounds** (e.g. netting later or using a closed loop of prefunded accounts). Our approach is directly tied to real settlement assets – **tokens and bank money – with finality guarantees**. If it says settled, it’s settled **for real**, not pending some overnight batch. This genuine DvP approach is critical for institutional adoption, as highlighted by industry groups: near-instant settlement (minutes/seconds) **radically lowers default risk and frees up collateral** in markets. By delivering that out of the box, the Asset Tokenization Kit gives trading venues and exchanges a ready-made solution to offer their participants _true_ atomic settlement, either on-chain or in tight coordination with legacy systems.

**Operational Metrics & Resilience:** The kit includes tooling to monitor and measure settlement performance. Out-of-the-box KPIs include **atomic settlement success rate**, average time-to-finality for different settlement types (pure on-chain token swaps vs. token-vs-fiat), and any reconciliation exceptions (e.g. if a policy check prevents a settlement). This means institutions can confidently report, for example, “99.5% of DvP transactions settled atomically within 5 seconds” – a powerful metric for risk committees. In case of failures, the system is designed to **fail safe**: if a counterparty doesn’t fund in time or a network issue occurs, the contracts revert and unlock assets back to their original owners. No stuck funds, no manual intervention needed to clean up. And every failure or timeout is logged as an event that can trigger alerts or feed into compliance reports (so patterns of failed settlements can be analyzed). On the interoperability front, while cross-chain asset movement is on the roadmap (e.g. bridging a token from a private network to Ethereum mainnet), the guiding principle is already set: _no asset leaves or enters without policy controls_. The current implementation ensures all tokens of a given system live in the same controlled environment, but as standards for inter-network settlement mature, the kit will incorporate those – always with the stance that **atomicity and compliance travel with the asset**. By focusing on rock-solid single-network atomic DvP first, SettleMint ensures that clients can **eliminate settlement risk today**, rather than waiting for future interoperability solutions. It’s a pragmatic approach that still keeps the door open for multi-ledger integration as the ecosystem evolves. In summary, the Settlement module of the kit transforms what is normally a T+2 (or longer) process fraught with counterparty and operational risk into a **T+0, programmable, and transparent process**. This is not a superficial overlay – it’s deeply integrated into the token lifecycle and the banking workflows, which is why it can deliver on instant finality. As the book says, _settlement risk is now optional – we chose to remove it._

## Deterministic settlement on day one

ATK assets embed transfer checks inside SMART compliance modules. Before every movement, tokens call both token-level and global modules via the `ATKComplianceImplementation` contract. This ensures KYC/KYB, jurisdiction limits, and blocklists gate settlement at the consensus layer—no asynchronous reconciliation required.

Lifecycle-sensitive flows (forced transfers, pauses, redemptions) use the same hooks, so settlement logic stays consistent whether the trigger is voluntary or supervisory. `SMARTCustodianUpgradeable` guarantees denomination coverage on redemptions, preventing partial settlements that erode trust.

## Real-time rails across services

- **Meta-transaction routing:** `ATKForwarder.sol` and ERC-2771 contexts allow orchestrators—dApps, Portal, or automation bots—to sponsor gas, so settlement instructions can be executed from secure service infrastructure while retaining the operator’s signature trail.
- **eRPC layer:** The Helm chart’s `erpc` component front-loads reliable JSON-RPC access with redis-backed caching, smoothing load when multiple desks settle simultaneously.
- **Network bootstrapper:** Besu-based networks spin up via Docker or Helm with predeployed contracts, signers, subgraph, and explorer support. This shortens time-to-first-settlement in new environments or sandboxes.
- **Cross-integration addons:** The XvP addon manages delivery-versus-payment workflows, while vault connectors let teams route cash legs through custodial accounts or off-chain ledgers.

<Mermaid
  chart={`
flowchart LR
  Portal["Portal / API"] -->|Submit settlement| Forwarder["Trusted forwarder"]
  Forwarder --> Token["SMART token"]
  Token --> Compliance["Compliance + global modules"]
  Token --> Custody["Custodian vault"]
  Token --> Subgraph["Settlement indexers"]
  Subgraph --> Analytics["Ops dashboards"]
`}
/>

## Bridging on- and off-chain legs

The addon registry gives settlement teams modular building blocks:

- **Vault addon:** Configures settlement wallets and collateral accounts, splitting flows between on-chain and off-chain legs while emitting settlement receipts.
- **xVP addon:** Encodes atomic atomic swaps between token legs and external payments, ensuring that cash and token legs succeed or revert together.
- **Token sale addon:** Supports primary or secondary offerings without bypassing compliance, enabling book builds or batch settlements with full audit trails.

`kit/subgraph/src/token-extensions/collateral` and `.../fixed-yield-schedule` keep continuous state on pledged collateral, outstanding principals, and disbursement dates so counterparties obtain instant settlement status.

## Observability and assurance

Blockscout, Graph Node, Hasura, and observability stacks deploy alongside the network. Settlement endpoints stream to dashboards with per-asset metrics—pending vs. completed settlements, cross-ledger reconciliation status, and anomaly flags. Logs feed into Loki for SIEM ingestion.

<Mermaid
  chart={`
sequenceDiagram
  participant Desk
  participant Portal
  participant Addon
  participant Token
  participant Vault
  participant GraphNode
  Desk->>Portal: Initiate DvP(settlementId)
  Portal->>Addon: executeDvP(settlementId)
  Addon->>Token: transferTokens()
  Addon->>Vault: releaseFiat()
  Token->>GraphNode: emit Transfer
  Vault-->>GraphNode: emit VaultRelease
  GraphNode-->>Portal: Settlement status update
`}
/>

## Interoperability ready for partners

SettleMint’s Portal exposes REST and GraphQL APIs so banks, brokers, and transfer agents can integrate with their core systems. Combined with the typed ORPC server, partners get deterministic settlement endpoints (initiateDvP, settleRedemption, batchDistribute) without generating client SDKs themselves. Because every module is registered in centralized registries, teams can plug in bespoke payment bridges or reporting connectors without modifying asset contracts.

With ATK, settlement is more than clearing tokens on-chain: it synchronizes compliance, custody, payments, and monitoring so T+0 becomes the default operating mode rather than an aspirational target.
